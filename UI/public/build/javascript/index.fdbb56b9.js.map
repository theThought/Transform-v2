{"mappings":"A,S,E,C,C,C,C,C,C,C,E,O,c,C,E,E,C,I,E,I,E,W,C,E,a,C,C,E,C,I,E,A,a,O,W,W,A,a,O,K,K,A,a,O,O,O,A,a,O,O,O,C,E,E,C,E,E,C,E,E,E,iB,A,O,I,A,C,E,S,C,E,G,K,E,O,C,C,E,C,O,C,G,K,E,C,I,E,C,C,E,A,Q,C,C,E,C,I,E,C,G,E,Q,C,C,E,O,C,C,E,C,E,E,I,C,E,O,C,E,E,O,E,E,O,A,C,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,Q,C,S,C,C,C,E,C,C,E,C,C,E,E,iB,C,G,I,E,E,Q,C,E,Q,S,C,C,C,E,E,E,O,C,W,W,O,C,E,S,C,E,O,E,C,G,E,E,O,C,U,W,O,C,E,S,C,E,O,E,C,GCEA,IAgBA,EACA,EAjBI,EAAU,IAAI,IAgBlB,EAfA,SAAkB,CAAO,CAAE,CAAQ,EACjC,IAAK,IAAI,EAAI,EAAG,EAAI,EAAS,MAAM,CAAG,EAAG,GAAK,EAC5C,EAAQ,GAAG,CAAC,CAAQ,CAAC,EAAE,CAAE,CACvB,QAAS,EACT,KAAM,CAAQ,CAAC,EAAI,EAAE,AACvB,EAEJ,EASA,EARA,SAAiB,CAAE,EACjB,IAAI,EAAW,EAAQ,GAAG,CAAC,GAC3B,GAAI,AAAY,MAAZ,EACF,MAAM,AAAI,MAAM,oCAAsC,GAExD,OAAO,IAAI,IAAI,EAAS,IAAI,CAAE,EAAS,OAAO,EAAE,QAAQ,EAC1D,C,G,E,Q,S,C,C,C,E,I,E,E,QChBA,CAAA,EAAA,OAAA,CAAkB,EAAK,SAAU,IAAI,CAAC,IAAM,EAAc,S,G,E,Q,S,C,C,C,ECK1D,EAAA,OAAA,CAJA,SAAc,CAAE,EAEd,OAAO,MAAA,CAAmB,AAAA,EAAA,SAAA,OAAA,CAAsC,GAClE,C,GCLA,AAAA,EAAA,SAAA,QAAA,CAA8C,IAAA,IAAoB,GAAA,YAAA,GAAA,EAAI,QAAQ,GAAG,KAAK,KAAK,CAAC,mGIA7E,OAAA,UAAwB,YAInC,OAAA,CAAA,CAAA,CACO,IAAA,CAAA,kBAAA,CAAqB,CAAC,YAAY,AAAA,AAEzC,cAAc,CAMV,GALA,KAAK,GAEL,IAAI,CAAC,MAAM,CAAG,IAAI,CAAC,aAAa,CAA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","sources":["<anon>","UI/node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","UI/node_modules/@parcel/runtime-js/lib/runtime-70a28c4eba5947b4.js","UI/node_modules/@parcel/runtime-js/lib/helpers/browser/esm-js-loader.js","UI/node_modules/@parcel/runtime-js/lib/runtime-082ebea61f9a4509.js","UI/src/javascript/index.ts","UI/src/javascript/utils/browser-supports-features.ts","UI/src/javascript/ui-init.ts","UI/src/javascript/web-components/wc-example.ts","UI/src/javascript/web-components/o-question.ts","UI/src/javascript/web-components/o-question-container.ts","UI/src/javascript/web-components/o-question-response.ts","UI/src/javascript/web-components/m-input-singlelineedit.ts","UI/src/javascript/utils/helpers.ts","UI/src/javascript/web-components/component.ts"],"sourcesContent":["\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\n      var $parcel$global =\n        typeof globalThis !== 'undefined'\n          ? globalThis\n          : typeof self !== 'undefined'\n          ? self\n          : typeof window !== 'undefined'\n          ? window\n          : typeof global !== 'undefined'\n          ? global\n          : {};\n  \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequire94c2\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequire94c2\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"gmstN\", function(module, exports) {\n\n$parcel$export(module.exports, \"register\", function () { return $be94cadb8bc8e090$export$6503ec6e8aabbaf; }, function (v) { return $be94cadb8bc8e090$export$6503ec6e8aabbaf = v; });\n$parcel$export(module.exports, \"resolve\", function () { return $be94cadb8bc8e090$export$f7ad0328861e2f03; }, function (v) { return $be94cadb8bc8e090$export$f7ad0328861e2f03 = v; });\nvar $be94cadb8bc8e090$export$6503ec6e8aabbaf;\nvar $be94cadb8bc8e090$export$f7ad0328861e2f03;\n\"use strict\";\nvar $be94cadb8bc8e090$var$mapping = new Map();\nfunction $be94cadb8bc8e090$var$register(baseUrl, manifest) {\n    for(var i = 0; i < manifest.length - 1; i += 2)$be94cadb8bc8e090$var$mapping.set(manifest[i], {\n        baseUrl: baseUrl,\n        path: manifest[i + 1]\n    });\n}\nfunction $be94cadb8bc8e090$var$resolve(id) {\n    var resolved = $be94cadb8bc8e090$var$mapping.get(id);\n    if (resolved == null) throw new Error('Could not resolve bundle with id ' + id);\n    return new URL(resolved.path, resolved.baseUrl).toString();\n}\n$be94cadb8bc8e090$export$6503ec6e8aabbaf = $be94cadb8bc8e090$var$register;\n$be94cadb8bc8e090$export$f7ad0328861e2f03 = $be94cadb8bc8e090$var$resolve;\n\n});\n\nparcelRegister(\"eN5lz\", function(module, exports) {\n\nvar $XXhuC = parcelRequire(\"XXhuC\");\nmodule.exports = $XXhuC(\"9iUNe\").then(()=>parcelRequire('cy3Db'));\n\n});\nparcelRegister(\"XXhuC\", function(module, exports) {\n\"use strict\";\n\nfunction $0b437ecda2bfffa7$var$load(id) {\n    // eslint-disable-next-line no-undef\n    return import((parcelRequire(\"gmstN\")).resolve(id));\n}\nmodule.exports = $0b437ecda2bfffa7$var$load;\n\n});\n\n\nvar $4f7a6b39a0fe1550$exports = {};\n\n(parcelRequire(\"gmstN\")).register(new URL(\"\", import.meta.url).toString(), JSON.parse(\"[\\\"fstR1\\\",\\\"index.fdbb56b9.js\\\",\\\"9iUNe\\\",\\\"polyfills.0c69e6db.js\\\"]\"));\n\n// Import CSS.\n\n/*\n    Use the \"browserslist\" config in \"package.json\" file to determine which features need to be supported with polyfills.\n\n    Please refer to these articles for explanation:\n    - https://philipwalton.com/articles/loading-polyfills-only-when-needed/.\n    - https://golb.hplar.ch/2018/02/Conditionally-load-polyfills.html.\n*/ const $b3975b22d1fb0ce4$export$33ff6ac0c1dc8af3 = ()=>{\n    // As an example... test for native <dialog> support.\n    const isDialog = typeof document.createElement('dialog').showModal === 'function';\n    return isDialog;\n};\n\n\n// DEMO web component for Storybook introduction.\nclass $0631caab67deec9d$export$2e2bcd8739ae039 extends HTMLElement {\n    static #_ = // Triggers attributeChangedCallback() lifecycle method whenever attributes listed here change.\n    this.observedAttributes = [\n        'attribute'\n    ];\n    constructor(){\n        super();\n        this.button = this.querySelector('button');\n        this.count = 0;\n        if (!this.button) return;\n        this.init();\n        this.button.addEventListener('click', this);\n    }\n    init() {\n        this.button?.removeAttribute('hidden');\n    }\n    handleGlobalClick(e) {\n        const target = e.target;\n        const insideButton = this.button?.contains(target);\n        if (!insideButton) console.log('Click target:', target, 'Clicked outside component:', this);\n    }\n    // Handle attribute changes.\n    attributeChangedCallback(name, oldValue, newValue) {\n        console.log(`Attribute ${name} has changed from ${oldValue} to ${newValue}.`);\n    }\n    // Handle constructor() event listeners.\n    handleEvent(e) {\n        const target = e.currentTarget;\n        this.count++;\n        if (target) target.innerHTML = `Clicked ${this.count} time(s)`;\n    }\n    // Handle (global) event listeners which are not part of this web component.\n    connectedCallback() {\n        document.addEventListener('click', (e)=>this.handleGlobalClick(e));\n    }\n    disconnectedCallback() {\n        document.removeEventListener('click', this.handleGlobalClick);\n    }\n}\n\n\nclass $2930c80eeacd7d71$export$2e2bcd8739ae039 extends HTMLElement {\n    constructor(){\n        super();\n        console.log('constructor(): ', this);\n    }\n}\n\n\n\nclass $2f087d92569e9fa2$export$2e2bcd8739ae039 extends (0, $2930c80eeacd7d71$export$2e2bcd8739ae039) {\n    constructor(){\n        super();\n    }\n}\n\n\n\nclass $1ee499054d65677f$export$2e2bcd8739ae039 extends (0, $2930c80eeacd7d71$export$2e2bcd8739ae039) {\n    constructor(){\n        super();\n    }\n}\n\n\n/**\n * Function - converts custom properties string to JSON.\n *\n * @param {string} properties   - stringified custom properties JSON.\n * @param {string} [filter]     - optional JSON key to filter by, so we return a subset of JSON rather than whole object.\n *\n * @return {JSON}\n */ const $e2634b9eb5104ca3$export$c4a8181d2a37a666 = (properties, filter)=>{\n    let parsedJSON = JSON.parse(properties);\n    if (filter) {\n        for (const [key, value] of Object.entries(parsedJSON))if (key === filter) parsedJSON = Object.assign({\n            [key]: value\n        }, parsedJSON.key);\n    }\n    return parsedJSON;\n};\n\n\n/*\nTODO:   Explain what this file is doing - class that components inherit\n        methods from\n */ class $a2ee296777af5915$export$2e2bcd8739ae039 extends HTMLElement {\n    constructor(){\n        super();\n    }\n    broadcastChange(message) {\n        console.log(message);\n    }\n}\n\n\nclass $2406097b92f0b598$export$2e2bcd8739ae039 extends (0, $a2ee296777af5915$export$2e2bcd8739ae039) {\n    constructor(){\n        super();\n        this.qid = this.dataset.questionid;\n        this.qgroup = this.dataset.questiongroup;\n        this.element = document.querySelector('.a-input-singlelineedit');\n        this.question = this.closest('o-question-response');\n        if (!this.element) return;\n        this.init();\n        this.element.addEventListener('click', this);\n        this.element.addEventListener('change', this);\n    }\n    init() {\n        console.log('MInputSinglelineedit: init...', this.qid, this.qgroup, this.element);\n        this.broadcastChange('message from the child using Component class.');\n        this.parseCustomProperties();\n    }\n    // TODO: should this be a generic method in Component.ts?\n    parseCustomProperties() {\n        const dataCustomProps = this.question?.dataset.customprops;\n        if (this.qid !== this.question?.dataset.questionid && this.qgroup !== this.question?.dataset.questiongroup && !dataCustomProps) return;\n        if (dataCustomProps) {\n            let customPropsJSON;\n            if (dataCustomProps.includes('type')) {\n                customPropsJSON = (0, $e2634b9eb5104ca3$export$c4a8181d2a37a666)(dataCustomProps, 'type');\n                this.setInputType(customPropsJSON);\n            }\n            if (dataCustomProps.includes('labels')) {\n                customPropsJSON = (0, $e2634b9eb5104ca3$export$c4a8181d2a37a666)(dataCustomProps, 'labels');\n                this.setLabels(customPropsJSON);\n            }\n        }\n    }\n    // Set the appropriate 'type' attribute on <input> based on custom properties.\n    setInputType(customPropsJSON) {\n        let inputType = customPropsJSON.type;\n        switch(inputType){\n            case 'date':\n                inputType = 'date';\n                break;\n            case 'number':\n                inputType = 'number';\n                break;\n            default:\n                inputType = 'text';\n                break;\n        }\n        if (this.element) this.element.type = inputType;\n    }\n    // Set pre-/post-labels.\n    // TODO: See https://app.clickup.com/t/8697h5cc4?comment=90120097089630&threadedComment=90120097249142\n    setLabels(customPropsJSON) {\n        const labels = customPropsJSON.labels;\n        for (const [key, value] of Object.entries(labels)){\n            if (key === 'pre' && value) {\n                const elemPre = document.createElement('span');\n                elemPre.classList.add('a-label-prelabel');\n                elemPre.textContent = value;\n                this.insertBefore(elemPre, this.element);\n            }\n            if (key === 'post' && value) {\n                const elemPre = document.createElement('span');\n                elemPre.classList.add('a-label-postlabel');\n                elemPre.textContent = value;\n                this.appendChild(elemPre);\n            }\n        }\n    }\n    // Handle constructor() event listeners.\n    handleEvent(e) {\n        switch(e.type){\n            case 'click':\n                console.log('click');\n                break;\n            case 'change':\n                console.log('change');\n                break;\n        }\n    }\n    // Handle (global) event listeners which are not part of this web component.\n    connectedCallback() {\n    // e.g. document.addEventListener('broadcastChange', ...);\n    }\n    disconnectedCallback() {\n    // e.g. document.removeEventListener('broadcastChange', ...);\n    }\n}\n\n\nconst $2a15bf81099470bd$export$12e25f693a4429ac = ()=>{\n    // DEMO web component for Storybook introduction.\n    !customElements.get('wc-example') && customElements.define('wc-example', (0, $0631caab67deec9d$export$2e2bcd8739ae039));\n    // Survey web components.\n    !customElements.get('o-question') && customElements.define('o-question', (0, $2930c80eeacd7d71$export$2e2bcd8739ae039));\n    !customElements.get('o-question-container') && customElements.define('o-question-container', (0, $2f087d92569e9fa2$export$2e2bcd8739ae039));\n    !customElements.get('o-question-response') && customElements.define('o-question-response', (0, $1ee499054d65677f$export$2e2bcd8739ae039));\n    !customElements.get('m-input-singlelineedit') && customElements.define('m-input-singlelineedit', (0, $2406097b92f0b598$export$2e2bcd8739ae039));\n};\n\n\n\nif ((0, $b3975b22d1fb0ce4$export$33ff6ac0c1dc8af3)()) (0, $2a15bf81099470bd$export$12e25f693a4429ac)();\nelse // Dynamic import polyfills, then instantiate UI modules.\n(parcelRequire(\"eN5lz\")).then(()=>(0, $2a15bf81099470bd$export$12e25f693a4429ac)()).catch((e)=>console.error(e));\n\n\n//# sourceMappingURL=index.fdbb56b9.js.map\n","\"use strict\";\n\nvar mapping = new Map();\nfunction register(baseUrl, manifest) {\n  for (var i = 0; i < manifest.length - 1; i += 2) {\n    mapping.set(manifest[i], {\n      baseUrl: baseUrl,\n      path: manifest[i + 1]\n    });\n  }\n}\nfunction resolve(id) {\n  var resolved = mapping.get(id);\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n  return new URL(resolved.path, resolved.baseUrl).toString();\n}\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","let load = require('./helpers/browser/esm-js-loader');\nmodule.exports = (load(\"9iUNe\")).then(() => parcelRequire('cy3Db'));","\"use strict\";\n\nfunction load(id) {\n  // eslint-disable-next-line no-undef\n  return __parcel__import__(require('../bundle-manifest').resolve(id));\n}\nmodule.exports = load;","require('./helpers/bundle-manifest').register(new __parcel__URL__(\"\").toString(),JSON.parse(\"[\\\"fstR1\\\",\\\"index.fdbb56b9.js\\\",\\\"9iUNe\\\",\\\"polyfills.0c69e6db.js\\\"]\"));","// Import CSS.\nimport '../../src/css/index.css';\n\n// Import key ES modules.\nimport { browserSupportsAllFeatures } from './utils/browser-supports-features';\nimport { uiInit } from './ui-init';\n\nif (browserSupportsAllFeatures()) {\n    uiInit();\n} else {\n    // Dynamic import polyfills, then instantiate UI modules.\n    import('./utils/polyfills')\n        .then(() => uiInit())\n        .catch((e) => console.error(e));\n}\n","/*\n    Use the \"browserslist\" config in \"package.json\" file to determine which features need to be supported with polyfills.\n\n    Please refer to these articles for explanation:\n    - https://philipwalton.com/articles/loading-polyfills-only-when-needed/.\n    - https://golb.hplar.ch/2018/02/Conditionally-load-polyfills.html.\n*/\nexport const browserSupportsAllFeatures = (): boolean => {\n    // As an example... test for native <dialog> support.\n    const isDialog =\n        typeof document.createElement('dialog').showModal === 'function';\n\n    return isDialog;\n};\n","// DEMO web component for Storybook introduction.\r\nimport WCExample from './web-components/wc-example';\r\n\r\n// Survey web components.\r\nimport OQuestion from './web-components/o-question';\r\nimport OQuestionContainer from './web-components/o-question-container';\r\nimport OQuestionResponse from './web-components/o-question-response';\r\nimport MInputSinglelineedit from './web-components/m-input-singlelineedit';\r\n\r\nexport const uiInit = (): void => {\r\n    // DEMO web component for Storybook introduction.\r\n    !customElements.get('wc-example') &&\r\n        customElements.define('wc-example', WCExample);\r\n\r\n    // Survey web components.\r\n    !customElements.get('o-question') &&\r\n        customElements.define('o-question', OQuestion);\r\n    !customElements.get('o-question-container') &&\r\n        customElements.define('o-question-container', OQuestionContainer);\r\n    !customElements.get('o-question-response') &&\r\n        customElements.define('o-question-response', OQuestionResponse);\r\n\r\n    !customElements.get('m-input-singlelineedit') &&\r\n        customElements.define('m-input-singlelineedit', MInputSinglelineedit);\r\n};\r\n","export default class WCExample extends HTMLElement {\n    private button: HTMLButtonElement | null;\n    private count: number;\n\n    // Triggers attributeChangedCallback() lifecycle method whenever attributes listed here change.\n    static observedAttributes = ['attribute'];\n\n    constructor() {\n        super();\n\n        this.button = this.querySelector('button');\n        this.count = 0;\n\n        if (!this.button) return;\n\n        this.init();\n        this.button.addEventListener('click', this);\n    }\n\n    private init(): void {\n        this.button?.removeAttribute('hidden');\n    }\n\n    private handleGlobalClick(e: MouseEvent): void {\n        const target = e.target as HTMLElement;\n        const insideButton = this.button?.contains(target);\n\n        if (!insideButton) {\n            console.log(\n                'Click target:',\n                target,\n                'Clicked outside component:',\n                this,\n            );\n        }\n    }\n\n    // Handle attribute changes.\n    public attributeChangedCallback(\n        name: string,\n        oldValue: string,\n        newValue: string,\n    ): void {\n        console.log(\n            `Attribute ${name} has changed from ${oldValue} to ${newValue}.`,\n        );\n    }\n\n    // Handle constructor() event listeners.\n    public handleEvent(e: MouseEvent): void {\n        const target = e.currentTarget as HTMLElement;\n\n        this.count++;\n        if (target) {\n            target.innerHTML = `Clicked ${this.count} time(s)`;\n        }\n    }\n\n    // Handle (global) event listeners which are not part of this web component.\n    public connectedCallback(): void {\n        document.addEventListener('click', (e: MouseEvent) =>\n            this.handleGlobalClick(e),\n        );\n    }\n\n    public disconnectedCallback(): void {\n        document.removeEventListener('click', this.handleGlobalClick);\n    }\n}\n","export default class OQuestion extends HTMLElement {\n    constructor() {\n        super();\n\n        console.log('constructor(): ', this);\n    }\n}\n","import OQuestion from './o-question';\n\nexport default class OQuestionContainer extends OQuestion {\n    constructor() {\n        super();\n    }\n}\n","import OQuestion from './o-question';\r\n\r\nexport default class OQuestionResponse extends OQuestion {\r\n    constructor() {\r\n        super();\r\n    }\r\n}\r\n","import { generateCustomPropertiesJSON } from '../utils/helpers';\r\nimport Component from './component';\r\n\r\nexport default class MInputSinglelineedit extends Component {\r\n    private qid: string | undefined;\r\n    private qgroup: string | undefined;\r\n    private element: HTMLInputElement | null;\r\n    private question: HTMLElement | null;\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        this.qid = this.dataset.questionid;\r\n        this.qgroup = this.dataset.questiongroup;\r\n        this.element = document.querySelector('.a-input-singlelineedit');\r\n        this.question = this.closest('o-question-response');\r\n\r\n        if (!this.element) return;\r\n\r\n        this.init();\r\n\r\n        this.element.addEventListener('click', this);\r\n        this.element.addEventListener('change', this);\r\n    }\r\n\r\n    private init(): void {\r\n        console.log(\r\n            'MInputSinglelineedit: init...',\r\n            this.qid,\r\n            this.qgroup,\r\n            this.element,\r\n        );\r\n\r\n        this.broadcastChange('message from the child using Component class.');\r\n        this.parseCustomProperties();\r\n    }\r\n\r\n    // TODO: should this be a generic method in Component.ts?\r\n    private parseCustomProperties(): void {\r\n        const dataCustomProps = this.question?.dataset.customprops;\r\n\r\n        if (\r\n            this.qid !== this.question?.dataset.questionid &&\r\n            this.qgroup !== this.question?.dataset.questiongroup &&\r\n            !dataCustomProps\r\n        ) {\r\n            return;\r\n        }\r\n\r\n        if (dataCustomProps) {\r\n            let customPropsJSON: Record<string, unknown>;\r\n\r\n            if (dataCustomProps.includes('type')) {\r\n                customPropsJSON = generateCustomPropertiesJSON(\r\n                    dataCustomProps,\r\n                    'type',\r\n                );\r\n                this.setInputType(customPropsJSON);\r\n            }\r\n\r\n            if (dataCustomProps.includes('labels')) {\r\n                customPropsJSON = generateCustomPropertiesJSON(\r\n                    dataCustomProps,\r\n                    'labels',\r\n                );\r\n                this.setLabels(customPropsJSON);\r\n            }\r\n        }\r\n    }\r\n\r\n    // Set the appropriate 'type' attribute on <input> based on custom properties.\r\n    private setInputType(customPropsJSON: Record<string, unknown>): void {\r\n        let inputType = customPropsJSON.type as string;\r\n\r\n        switch (inputType) {\r\n            case 'date':\r\n                inputType = 'date';\r\n                break;\r\n            case 'number':\r\n                inputType = 'number';\r\n                break;\r\n            default:\r\n                inputType = 'text';\r\n                break;\r\n        }\r\n\r\n        if (this.element) {\r\n            this.element.type = inputType;\r\n        }\r\n    }\r\n\r\n    // Set pre-/post-labels.\r\n    // TODO: See https://app.clickup.com/t/8697h5cc4?comment=90120097089630&threadedComment=90120097249142\r\n    private setLabels(customPropsJSON: Record<string, unknown>): void {\r\n        const labels = customPropsJSON.labels as Record<string, unknown>;\r\n\r\n        for (const [key, value] of Object.entries(labels)) {\r\n            if (key === 'pre' && value) {\r\n                const elemPre = document.createElement('span');\r\n                elemPre.classList.add('a-label-prelabel');\r\n                elemPre.textContent = value as string;\r\n\r\n                this.insertBefore(elemPre, this.element);\r\n            }\r\n\r\n            if (key === 'post' && value) {\r\n                const elemPre = document.createElement('span');\r\n                elemPre.classList.add('a-label-postlabel');\r\n                elemPre.textContent = value as string;\r\n\r\n                this.appendChild(elemPre);\r\n            }\r\n        }\r\n    }\r\n\r\n    // Handle constructor() event listeners.\r\n    public handleEvent(e: Event): void {\r\n        switch (e.type) {\r\n            case 'click':\r\n                console.log('click');\r\n                break;\r\n            case 'change':\r\n                console.log('change');\r\n                break;\r\n        }\r\n    }\r\n\r\n    // Handle (global) event listeners which are not part of this web component.\r\n    public connectedCallback(): void {\r\n        // e.g. document.addEventListener('broadcastChange', ...);\r\n    }\r\n\r\n    public disconnectedCallback(): void {\r\n        // e.g. document.removeEventListener('broadcastChange', ...);\r\n    }\r\n}\r\n","/**\n * Function - converts custom properties string to JSON.\n *\n * @param {string} properties   - stringified custom properties JSON.\n * @param {string} [filter]     - optional JSON key to filter by, so we return a subset of JSON rather than whole object.\n *\n * @return {JSON}\n */\nexport const generateCustomPropertiesJSON = (\n    properties: string,\n    filter?: string,\n): Record<string, unknown> => {\n    let parsedJSON: Record<string, unknown> = JSON.parse(properties);\n\n    if (filter) {\n        for (const [key, value] of Object.entries(parsedJSON)) {\n            if (key === filter) {\n                parsedJSON = Object.assign({ [key]: value }, parsedJSON.key);\n            }\n        }\n    }\n\n    return parsedJSON;\n};\n","/*\nTODO:   Explain what this file is doing - class that components inherit\n        methods from\n */\n\nexport default class Component extends HTMLElement {\n    constructor() {\n        super();\n    }\n\n    public broadcastChange(message: string): void {\n        console.log(message);\n    }\n}\n"],"names":["$parcel$export","e","n","v","s","Object","defineProperty","get","set","enumerable","configurable","$parcel$global","globalThis","self","window","global","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","parcelRegister","$be94cadb8bc8e090$export$6503ec6e8aabbaf","$be94cadb8bc8e090$export$f7ad0328861e2f03","$be94cadb8bc8e090$var$mapping","Map","baseUrl","manifest","i","length","path","resolved","URL","toString","$XXhuC","then","resolve","url","JSON","parse","$0631caab67deec9d$export$2e2bcd8739ae039","HTMLElement","observedAttributes","constructor","button","querySelector","count","addEventListener","removeAttribute","handleGlobalClick","target","contains","console","log","attributeChangedCallback","name","oldValue","newValue","handleEvent","currentTarget","innerHTML","connectedCallback","document","disconnectedCallback","removeEventListener","$2930c80eeacd7d71$export$2e2bcd8739ae039","$2f087d92569e9fa2$export$2e2bcd8739ae039","$1ee499054d65677f$export$2e2bcd8739ae039","$e2634b9eb5104ca3$export$c4a8181d2a37a666","properties","filter","parsedJSON","key","value","entries","assign","$a2ee296777af5915$export$2e2bcd8739ae039","broadcastChange","message","$2406097b92f0b598$export$2e2bcd8739ae039","qid","dataset","questionid","qgroup","questiongroup","element","question","closest","parseCustomProperties","dataCustomProps","customprops","customPropsJSON","includes","setInputType","setLabels","inputType","type","labels","elemPre","createElement","classList","add","textContent","insertBefore","appendChild","$2a15bf81099470bd$export$12e25f693a4429ac","customElements","define","showModal","catch","error"],"version":3,"file":"index.fdbb56b9.js.map"}